Procedure

1.    Start MongoDB without access control.

    mongod --port 27017 --dbpath /data/db1

2.    Connect to the instance.

    mongo --port 27017

3.    Create the user administrator.

    use admin
    db.createUser(
      {
        user: "myUserAdmin",
        pwd: "abc123",
        roles: [ { role: "userAdminAnyDatabase", db: "admin" } ]
      }
    )

4.    Re-start the MongoDB instance with access control.

    mongod --auth --port 27017 --dbpath /data/db1

5.    Authenticate as the user administrator.

    mongo --port 27017 -u "myUserAdmin" -p "abc123" \
      --authenticationDatabase "admin"

